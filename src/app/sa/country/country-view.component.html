<form>
  
  <div class="grid">
    <div class="col-12 button-container flex-container">
      <div class="flex-container-start">
      <button pButton type="button"
              label="{{'global.save' | translate}}" class="p-button-success"
              icon="fa fa-save" iconPos="left" (click)="saveCountry()">
      </button>
      <button pButton type="button" *ngIf="id"
              label="{{'global.delete' | translate}}" class="p-button-danger"
              icon="fa fa-trash" iconPos="left" (click)="deleteCountry()">
      </button>
      
      <button pButton type="button" label="{{'global.newRecord' | translate}}" class="p-button-info" *ngIf="id"
              icon="fa fa-plus" iconPos="left" (click)="newRecord()">
      </button>
      <button pButton type="button" label="{{'global.index' | translate}}" class="p-button-help"
              icon="fa fa-table" iconPos="left" (click)="goToList()">
      </button>
      </div>
      <div class="flex-container-end">
        <app-field-revisions *ngIf="id" [entityClass]="'cm.core.domain.Country'" [entityId]="id"></app-field-revisions>
      </div>
    </div>
  </div>
  
  <div class="grid">
    
    <div class="col-12 md:col-6 p-fluid">
      
      <p-panel header="{{'country.view.data' | translate}}">
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4 font-bold">{{'country.countryNameGreek' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.countryNameGreek" name="countryNameGreek">
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.countryNameLatin' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.countryNameLatin" name="countryNameLatin">
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4 font-bold">{{'country.nationalityNameGreek' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.nationalityNameGreek" name="nationalityNameGreek">
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.nationalityNameLatin' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.nationalityNameLatin" name="nationalityNameLatin">
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.isActive' | translate}}</label>
          <div class="col-12 md:col-2">
            <p-checkbox [(ngModel)]="country.isActive" name="isActive" [binary]="true"></p-checkbox>
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.twoDigitCode' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.twoDigitCode" name="twoDigitCode">
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4 font-bold">{{'country.threeDigitCode' | translate}}</label>
          <div class="col-12 sm:col-8">
            <input type="text" pInputText [(ngModel)]="country.threeDigitCode" name="threeDigitCode">
          </div>
        </div>

        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.crCode' | translate}}</label>
          <div class="col-12 sm:col-8">
            <p-inputNumber [(ngModel)]="country.crCode" name="crCode"></p-inputNumber>
          </div>
        </div>
        
        <div class="grid align-items-center">
          <label class="col-12 sm:col-4">{{'country.comments' | translate}}</label>
          <div class="col-12 sm:col-8">
            <textarea pInputTextarea [(ngModel)]="country.comments" name="comments" rows="6"></textarea>
          </div>
        </div>
        
      </p-panel>
      
    </div>
    
  </div>
  
  <div class="grid">
    
    <div class="col-12">
      
      <p-tabView>
        
        <p-tabPanel header="{{'country.view.tab.cities' | translate}}">
          
          <div class="grid">
            <div class="col-12">
              <button pButton type="button" label="{{'global.add' | translate}}" class="p-button-info"
                      icon="fa fa-plus" iconPos="left"
                      (click)="addCity()">
              </button>
            </div>
          </div>
          
          <div class="grid">
            
            <div class="col-12">
              
              <p-table [value]="country.cities" [scrollable]="true" scrollHeight="25rem" 
                       styleClass="p-datatable-gridlines p-datatable-striped" appToitsuPTableCellWidth>
                
                <ng-template pTemplate="header">
                  
                  <tr>
                    <th [style.width]="'5rem'" [style.justify-content]="'center'">#</th>
                    <th [style.width]="'25rem'" class="font-bold">{{'city.nameGreek' | translate}}</th>
                    <th [style.width]="'25rem'">{{'city.nameLatin' | translate}}</th>
                    <th [style.width]="'5rem'" [style.justify-content]="'center'">{{'city.isActive' | translate}}</th>
                    <th [style.width]="'8rem'"></th>
                  </tr>
                  
                </ng-template>
                
                <ng-template pTemplate="body" let-city let-index="rowIndex">
                  
                  <tr class="p-fluid">
                    
                    <td [style.justify-content]="'center'">{{index + 1}}</td>
                    <td> <input type="text" pInputText [(ngModel)]="city.nameGreek" name="city{{index}}.nameGreek"> </td>
                    <td> <input type="text" pInputText [(ngModel)]="city.nameLatin" name="city{{index}}.nameLatin"> </td>
                    <td [style.justify-content]="'center'"> 
                      <p-checkbox [(ngModel)]="city.isActive" name="city{{index}}.isActive" [binary]="true"></p-checkbox>
                    </td>
                    <td [style.width]="'10%'" [style.justify-content]="'center'" class="button-container">
                      <app-field-revisions *ngIf="id && city.id" [entityClass]="'cm.core.domain.City'" 
                                           [entityId]="city.id" [tableMode]="true"></app-field-revisions>
                      <button pButton type="button" class="p-button-danger" icon="{{(city.id ? 'fa fa-times' : 'fa fa-minus')}}"
                              iconPos="left"  pTooltip="{{(city.id ? 'global.delete' : 'global.remove') | translate}}" 
                              tooltipPosition="top" (click)="deleteCity(index, city.id)">
                      </button>
                    </td>
                    
                  </tr>
                  
                </ng-template>
                
              </p-table>
            
            </div>
            
          </div>
        
        </p-tabPanel>
        
      </p-tabView>
      
    </div>
    
  </div>
  
</form>

